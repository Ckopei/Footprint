(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(69)},30:function(e,t,a){},32:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),o=a.n(r),c=(a(30),a(23)),s=a(73),i=a(74),m=a(75),d=a(72),u={isAuthenticated:!1,authenticate:function(e){var t=this;fetch("api/users/user",{credentials:"include"}).then(function(a){t.isAuthenticated=!0,"function"===typeof e&&e(a.json().user)}).catch(function(e){console.log("Error fetching authorized user.")})},signout:function(e){var t=this;fetch("api/users/logout",{method:"POST",credentials:"include"}).then(function(a){t.isAuthenticated=!1,"function"===typeof e&&e(!0)}).catch(function(t){console.log("Error logging out user."),"function"===typeof e&&e(!1)})}},p=a(2),b=a(3),g=a(5),E=a(4),h=a(6),f=a(71),v=(a(32),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,width:window.innerWidth},a.updateWidth=function(){var e={width:window.innerWidth};a.state.open&&e.width>991&&(e.open=!1),a.setState(e)},a.toggleNav=function(){a.setState({open:!a.state.open})},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWidth)}},{key:"componentWillUnMount",value:function(){window.removeEventListener("resize",this.updateWidth)}},{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-2"},l.a.createElement(f.a,{className:"navbar-brand",to:"/"},"Auth Plate"),l.a.createElement(f.a,{className:"navbar-brand",to:"/register"},"Register"),l.a.createElement("button",{onClick:this.toggleNav,className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"".concat(this.state.open?"":"collapse ","navbar-collapse"),id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(f.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/login"},"Login")))))}}]),t}(n.Component)),N=(a(36),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onLogin;return l.a.createElement("div",{className:"card"},l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({username:e.usernameElem.value,password:e.passwordElem.value})}},l.a.createElement("div",{className:"card-header"},l.a.createElement("h4",null,"Log In")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter Username"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn-success",type:"submit"},"Log In"),l.a.createElement("span",null,"or"),l.a.createElement(f.a,{to:"/register"},l.a.createElement("button",{className:"btn btn-danger"},"Sign Up")))))}}]),t}(l.a.Component)),y="",j=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={redirectToReferrer:!1},a.login=function(e){console.log("Logging in "+e.username),y=e.username,fetch("api/users/login",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){200===e.status&&u.authenticate(function(){a.setState({redirectToReferrer:!0})})}).catch(function(e){console.log("Error logging in.",e)})},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/protected"}}).from;return this.state.redirectToReferrer?l.a.createElement(d.a,{to:e}):l.a.createElement("div",null,l.a.createElement(N,{onLogin:this.login}))}}]),t}(l.a.Component),O=(a(39),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onRegister;return console.log("Register form props are: ".concat(JSON.stringify(this.props))),l.a.createElement("div",{className:"card"},l.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({username:e.usernameElem.value,password:e.passwordElem.value})}},l.a.createElement("div",{className:"card-header"},l.a.createElement("h4",null,"Sign Up")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter Username"}),l.a.createElement("br",null),l.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("button",{className:"btn btn btn-danger",type:"submit"},"Sign Up"),l.a.createElement("span",null,"or"),l.a.createElement(f.a,{to:"/login"},l.a.createElement("button",{className:"btn btn-success"},"Log In")))))}}]),t}(l.a.Component)),w=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={redirectToReferrer:!1},a.register=function(e){fetch("api/users/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){200===e.status&&(console.log("Succesfully registered user!"),window.location.assign("/protected"))}).catch(function(e){console.log("Error registering user.",e)})},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{onRegister:this.register}))}}]),t}(l.a.Component);function C(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var S={margin:"0 auto",width:"300px",position:"relative",top:"200px"},k={width:"100px",margin:"20px",color:"white"},T={width:"100px",margin:"20px",color:"white",backgroundColor:"#418B06"};var x=function(){return l.a.createElement("div",{className:"sign-in-buttons",style:S},l.a.createElement(f.a,{to:"/login"},l.a.createElement("button",{className:"btn btn-lg log-in",style:T},"Log In")),l.a.createElement(f.a,{to:"/register"},l.a.createElement("button",{className:"btn btn-lg btn-primary sign-up",style:k},"Sign Up")))},I=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(x,null))}}]),t}(l.a.Component),R=a(15),W=a.n(R),L={getUser:function(e){return W.a.get("/api/test/"+e)},updateScore:function(e){return W.a.put("/api/test/",e)}},U=(a(59),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"myfunction",value:function(){console.log("clicked")}},{key:"render",value:function(){return l.a.createElement("div",{className:"container buttonContainer"},l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/light.svg",alt:"bicycle",onClick:this.props.updateScore}),l.a.createElement("span",null,"Turned off the lights")),l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/spinach.svg",alt:"car",onClick:this.props.updateScore}),l.a.createElement("span",null,"Skipped red meat"))),l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/world.svg",alt:"earth",onClick:this.props.updateScore}),l.a.createElement("span",null,"Recycled")),l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/windmill.svg",alt:"flowers",onClick:this.props.updateScore}),l.a.createElement("span",null,"Used renewed/recycled energy"))),l.a.createElement("div",{className:"row mx-auto"},l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/water.svg",alt:"house",onClick:this.props.updateScore}),l.a.createElement("span",null,"Skipped a shower")),l.a.createElement("div",{className:"col-lg-6 col-sm-12 mt-5 buttonColumn"},l.a.createElement("img",{className:"biggerImg",src:"/buttons/car.svg",alt:"plant",onClick:this.props.updateScore}),l.a.createElement("span",null,"Took public transportation"))))}}]),t}(l.a.Component)),A=(a(61),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"scoreContainer"},l.a.createElement("h4",{className:"userDisplay"},"Welcome, ",l.a.createElement("span",null,this.props.username),"!"),l.a.createElement("h3",{className:"score"},"Your score is: ",l.a.createElement("span",null,this.props.score)))}}]),t}(l.a.Component)),B=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={user:[]},a.firstThing=function(){L.getUser(y).then(function(e){a.setState({user:e.data})})},a.updateScore=function(){console.log(a.state),L.updateScore(a.state.user).then(function(e){console.log(e),a.firstThing()})},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){console.log("look ".concat(y)),this.firstThing()}},{key:"render",value:function(){return l.a.createElement("div",{className:"userContainer"},l.a.createElement(A,{username:this.state.user.username,score:this.state.user.score}),l.a.createElement(U,{updateScore:this.updateScore}))}}]),t}(l.a.Component);a(63);var P=function(){return l.a.createElement("div",{className:"title"},l.a.createElement("h1",null,"Footprint"),l.a.createElement("h3",{className:"subtitle"}," Helping you help the world."))},D=(a(65),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"tipsContainer"},l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal1"},"Starter Tips"),l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal2"},"Using Less Plastic"),l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal3"},"Where to Recycle"),l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal4"},"The Coffee Cup Special"),l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal5"},"Water Bottle Roundup"),l.a.createElement("button",{type:"button",className:"btn btn-primary tipButton","data-toggle":"modal","data-target":"#modal6"},"Holiday Mindfulness"),l.a.createElement("div",{className:"modal fade",id:"modal1",tabIndex:"-1",role:"dialog","aria-labelledby":"modal1Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal1Title"},"Starter Tips"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/starter.png",alt:"Starter Tips for staying environmentally conscious"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{className:"modal fade",id:"modal2",tabIndex:"-1",role:"dialog","aria-labelledby":"modal2Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal2Title"},"Starter Tips"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/lessplastic.jpg",alt:"Tips on using less plastic"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{className:"modal fade",id:"modal3",tabIndex:"-1",role:"dialog","aria-labelledby":"modal3Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal3Title"},"Where to Recycle"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/wheretorecycle.png",alt:"Where to recycle which materials"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{className:"modal fade",id:"modal4",tabIndex:"-1",role:"dialog","aria-labelledby":"modal4Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal4Title"},"The Coffee Cup Special"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/coffeecups.png",alt:"infographic about recycling coffee cups"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{className:"modal fade",id:"modal5",tabIndex:"-1",role:"dialog","aria-labelledby":"modal5Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal5Title"},"Water Bottle Roundup"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/waterbottles.jpg",alt:"infograph about using fewer plastic water bottles"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))),l.a.createElement("div",{className:"modal fade",id:"modal6",tabIndex:"-1",role:"dialog","aria-labelledby":"modal6Title","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"modal6Title"},"Holiday Mindfulness"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("img",{className:"img-responsive",src:"/tips/holidayrecycling.jpg",alt:"guide to recycling during the holidays"})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"))))))}}]),t}(l.a.Component)),J=(a(67),function(e){var t=e.component,a=Object(c.a)(e,["component"]);return l.a.createElement(m.a,Object.assign({},a,{render:function(e){return u.isAuthenticated?l.a.createElement(t,e):l.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),M=function(){return l.a.createElement(s.a,null,l.a.createElement("div",{className:"main-body"},l.a.createElement(v,{className:"App-header"}),l.a.createElement(C,null,l.a.createElement(P,null),l.a.createElement(i.a,null,l.a.createElement(m.a,{exact:!0,path:"/",component:I}),l.a.createElement(m.a,{exact:!0,path:"/login",component:j}),l.a.createElement(m.a,{exact:!0,path:"/register",component:w}),l.a.createElement(m.a,{exact:!0,path:"/tips",component:D}),l.a.createElement(J,{exact:!0,path:"/protected",component:B})))))};o.a.render(l.a.createElement(M,null),document.getElementById("root"))}},[[24,2,1]]]);
//# sourceMappingURL=main.dbaf383a.chunk.js.map